staging: dgap: refactor ugly dgap_init_one function

This patch just cleans up the ugly dgap_init_one function

Signed-off-by: Mark Hounschell <markh@compro.net>
Suggested-by: Dan Carpenter <dan.carpenter@oracle.com>
Tested-by: Mark Hounschell <markh@compro.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

