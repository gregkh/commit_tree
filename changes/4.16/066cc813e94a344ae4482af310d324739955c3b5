do_mq_open(): move all work prior to dentry_open() into a helper

Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>

