iommu/amd: Check for error states first in iommu_go_to_state()

Check if we are in an error state already before calling
into state_next().

Signed-off-by: Joerg Roedel <jroedel@suse.de>

