watchdog: shwdt: Migrate to per-device locking.

Presently we've been using global locking for everything. Push the
locking down to the per-device level in preparation for per-CPU
watchdogs.

Signed-off-by: Paul Mundt <lethal@linux-sh.org>

