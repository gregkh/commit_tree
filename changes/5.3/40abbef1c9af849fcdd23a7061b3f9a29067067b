Revert "usb:gadget Simplify usb_decode_get_set_descriptor function."

This reverts commit c2af6b07803ebd099950cd608f404a7bff9037b2.

It's broken.

Reported-by: Stephen Rothwell <sfr@canb.auug.org.au>
Cc: Felipe Balbi <balbi@kernel.org>
Cc: Pawel Laszczak <pawell@cadence.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

