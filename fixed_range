#!/bin/bash
# SPDX-License-Identifier: GPL-2.0
#
# Copyright 2020 Greg Kroah-Hartman <gregkh@linuxfoundation.org>
#
#

STABLE_TREE="/home/gregkh/linux/stable/linux-stable"
GEN_CID="/home/gregkh/linux/scripts/generate_cid.sh"

usage()
{
        echo "error, git range not found"
        echo "usage:"
        echo "  $0 GIT_RANGE"
        exit 2
}

git_range=$1

if [ "${git_range}" == "" ] ; then
        usage
fi

pwd=$(pwd)

cd ${STABLE_TREE}

for commit in $(${GEN_CID} ${git_range} | cut -f 1 -d ' ' | cut -f 2 -d '-'); do
#	sha1=$(echo "${commit}" |  cut -f 1 -d ' ' | cut -f 2 -d '-')	# yeah, I could do better with a regex
	echo "./fixed_in ${commit}"
done
